<!DOCTYPE html>
<html lang="pt-pt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Churras do Tutu - Anime Edition üî•</title>
    
    <!-- Scripts de UI -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>

    <style>
        @import url('https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;600;800&family=Handlee&family=Fira+Code:wght@700&display=swap');
        
        body { 
            font-family: 'Plus Jakarta Sans', sans-serif; 
            -webkit-tap-highlight-color: transparent;
            background-color: #fdfbf7;
        }
        .baby-font { font-family: 'Handlee', cursive; }
        .geek-font { font-family: 'Fira Code', monospace; }
        
        /* Paleta Arthur: Marrom Profundo (#5d4037) e Bege (#d7ccc8) com Laranja Fogo (#f97316) */
        .earth-bg {
            background-color: #5d4037;
            background-image: linear-gradient(135deg, #5d4037 0%, #8d6e63 100%);
        }

        /* ANIMA√á√ïES ANIME STYLE */
        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(30px) scale(0.9); }
            to { opacity: 1; transform: translateY(0) scale(1); }
        }
        .animate-hero-entry { animation: fadeInUp 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards; opacity: 0; }
        
        @keyframes fireGlow {
            0%, 100% { text-shadow: 0 0 10px rgba(249, 115, 22, 0.5); }
            50% { text-shadow: 0 0 20px rgba(249, 115, 22, 0.8), 0 0 30px rgba(251, 146, 60, 0.4); }
        }
        .fire-text { animation: fireGlow 2s infinite; color: #f97316; }

        .shimmer-effect {
            background: linear-gradient(90deg, rgba(255,255,255,0) 0%, rgba(255,255,255,0.3) 50%, rgba(255,255,255,0) 100%);
            background-size: 200% 100%;
            animation: shimmer 2s infinite linear;
        }
        @keyframes shimmer { 0% { background-position: -200% 0; } 100% { background-position: 200% 0; } }

        .progress-pixel {
            background-image: linear-gradient(45deg, rgba(255,255,255,.2) 25%, transparent 25%, transparent 50%, rgba(255,255,255,.2) 50%, rgba(255,255,255,.2) 75%, transparent 75%, transparent);
            background-size: 1rem 1rem;
        }

        #game-container {
            width: 100%;
            height: 320px;
            background: #27272a;
            position: relative;
            overflow: hidden;
            border-radius: 1.5rem;
            border: 3px solid #f97316;
            touch-action: none;
        }
        .hidden { display: none; }
    </style>
</head>
<body class="text-stone-800 overflow-x-hidden">

    <div class="max-w-md mx-auto bg-white min-h-screen shadow-2xl relative flex flex-col pb-10">
        
        <!-- Header: Arthur Saiyan Mode -->
        <section class="earth-bg text-stone-50 p-8 pt-12 pb-20 rounded-b-[4rem] relative overflow-hidden text-center border-b-8 border-orange-500/30">
            <div class="absolute top-4 right-4 opacity-20 floating">
                <i data-lucide="zap" class="w-16 h-16 text-yellow-400 fill-yellow-400"></i>
            </div>
            
            <!-- Bot√£o de M√∫sica Anime -->
            <button onclick="window.toggleAnimeMusic(this)" class="absolute top-4 left-4 bg-orange-500 p-3 rounded-full shadow-lg border-2 border-white/30 z-50 transition-all active:scale-75">
                <i id="audio-icon" data-lucide="volume-x" class="w-5 h-5 text-white"></i>
            </button>

            <div class="relative z-10 flex flex-col items-center animate-hero-entry">
                <div class="inline-flex items-center gap-2 bg-orange-600 text-white px-5 py-1.5 rounded-full text-[10px] font-black uppercase tracking-[0.2em] mb-6 border-2 border-orange-400 overflow-hidden relative shadow-lg">
                    <div class="absolute inset-0 shimmer-effect"></div>
                    <i data-lucide="flame" class="w-3 h-3 text-yellow-300"></i> Level Up: Arthur
                </div>
                
                <h1 class="text-5xl font-black mb-1 baby-font tracking-tight text-white drop-shadow-[0_4px_4px_rgba(0,0,0,0.5)]">
                    Churras do <span class="text-orange-400">Tutu</span>
                </h1>
                <p class="geek-font text-orange-200 text-[10px] uppercase font-bold tracking-widest mt-2">Quest: Incendeie o seu cora√ß√£o!</p>
                
                <!-- TRANSMISS√ÉO / V√çDEO INTRODUT√ìRIO -->
                <div class="mt-6 w-full max-w-[280px] mx-auto relative rounded-2xl overflow-hidden border-2 border-orange-400 shadow-[0_0_15px_rgba(249,115,22,0.6)] animate-hero-entry" style="animation-delay: 0.1s;">
                    <video src="churrastutu.mp4" controls playsinline class="w-full h-auto object-cover bg-black">
                        Seu navegador n√£o suporta o elemento de v√≠deo.
                    </video>
                    <!-- Detalhe visual de grava√ß√£o -->
                    <div class="absolute top-2 right-2 flex items-center gap-1 bg-black/60 px-2 py-0.5 rounded-full pointer-events-none">
                        <div class="w-1.5 h-1.5 rounded-full bg-red-500 animate-pulse"></div>
                        <span class="text-[8px] text-white font-black uppercase tracking-widest geek-font">REC</span>
                    </div>
                </div>

                <!-- ARTHUR UPTIME -->
                <div class="mt-8 bg-black/30 backdrop-blur-md p-5 rounded-3xl border border-white/10 soft-shadow w-full ring-1 ring-white/20">
                    <p class="text-[10px] uppercase font-black text-orange-400 mb-3 tracking-widest flex justify-center items-center gap-2">
                        <i data-lucide="activity" class="w-3 h-3 text-green-400"></i> Arthur Uptime Status
                    </p>
                    <div class="grid grid-cols-4 gap-2">
                        <div class="bg-white/5 p-2 rounded-xl border border-white/5">
                            <span id="life-days" class="text-2xl font-black block leading-none text-white geek-font">00</span>
                            <span class="text-[7px] uppercase font-bold opacity-60 block mt-1">Dias</span>
                        </div>
                        <div class="bg-white/5 p-2 rounded-xl border border-white/5">
                            <span id="life-hours" class="text-2xl font-black block leading-none text-white geek-font">00</span>
                            <span class="text-[7px] uppercase font-bold opacity-60 block mt-1">Hrs</span>
                        </div>
                        <div class="bg-white/5 p-2 rounded-xl border border-white/5">
                            <span id="life-mins" class="text-2xl font-black block leading-none text-white geek-font">00</span>
                            <span class="text-[7px] uppercase font-bold opacity-60 block mt-1">Min</span>
                        </div>
                        <div class="bg-orange-500/20 p-2 rounded-xl border border-orange-500/30 text-orange-400">
                            <span id="life-secs" class="text-2xl font-black block leading-none geek-font">00</span>
                            <span class="text-[7px] uppercase font-bold opacity-70 block mt-1">Seg</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- EVENT COUNTDOWN -->
        <section class="px-6 -mt-10 relative z-20 animate-hero-entry" style="animation-delay: 0.2s;">
            <div class="bg-white rounded-3xl p-6 shadow-2xl border-2 border-stone-100 flex flex-col items-center">
                <span class="text-[10px] uppercase font-black text-stone-400 mb-4 tracking-[0.3em] text-center">Countdown para o Deploy da Carne</span>
                <div id="event-timer-container" class="flex justify-around items-center w-full max-w-[280px]">
                    <div class="text-center">
                        <span id="event-days" class="text-4xl font-black text-stone-800 geek-font">00</span>
                        <p class="text-[8px] font-bold text-stone-400 uppercase">Dias</p>
                    </div>
                    <div class="text-orange-500 font-black text-2xl animate-pulse">:</div>
                    <div class="text-center">
                        <span id="event-hours" class="text-4xl font-black text-stone-800 geek-font">00</span>
                        <p class="text-[8px] font-bold text-stone-400 uppercase">Hrs</p>
                    </div>
                    <div class="text-orange-500 font-black text-2xl animate-pulse">:</div>
                    <div class="text-center">
                        <span id="event-mins" class="text-4xl font-black text-stone-800 geek-font">00</span>
                        <p class="text-[8px] font-bold text-stone-400 uppercase">Min</p>
                    </div>
                    <div class="text-orange-500 font-black text-2xl animate-pulse">:</div>
                    <div class="text-center">
                        <span id="event-secs" class="text-4xl font-black text-orange-600 geek-font">00</span>
                        <p class="text-[8px] font-bold text-stone-400 uppercase">Seg</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- MINI JOGO: DEFESA SAIYAJIN -->
        <section class="p-6 animate-hero-entry" style="animation-delay: 0.4s;">
            <div class="bg-stone-900 border-4 border-orange-500 rounded-[2.5rem] p-4 shadow-xl">
                <div class="flex items-center justify-between mb-4 px-2">
                    <div class="flex flex-col">
                        <span class="text-[10px] font-black text-orange-400 uppercase tracking-widest leading-none">Training Room</span>
                        <h4 class="font-bold text-white text-sm uppercase">Miss√£o: Defesa Arthur</h4>
                    </div>
                    <div id="game-score-box" class="bg-orange-600 text-white px-4 py-1.5 rounded-full text-xs font-black ring-4 ring-orange-900/50">
                        KI: <span id="game-score">20</span>
                    </div>
                </div>
                
                <div id="game-container">
                    <canvas id="game-canvas"></canvas>
                    <div id="game-overlay" class="absolute inset-0 bg-black/80 flex flex-col items-center justify-center text-white p-6 text-center z-30">
                        <div id="overlay-content">
                            <i data-lucide="play-circle" class="w-16 h-16 mb-4 text-orange-500 fill-orange-500/20 mx-auto cursor-pointer" onclick="window.startGame()"></i>
                            <h5 class="font-black text-xl uppercase mb-2 text-orange-400">Iniciar Treino</h5>
                            <p class="text-[10px] opacity-70 uppercase tracking-widest mb-6 leading-relaxed">
                                Apanhe ü•© e üçº para ganhar energia.<br>Fuja dos üíã e ü¶†!<br><span class="text-white font-bold">Ganhe com 100 KI!</span>
                            </p>
                            <button onclick="window.startGame()" class="bg-orange-600 text-white px-8 py-3 rounded-2xl text-[11px] font-black uppercase tracking-[0.2em] shadow-lg active:scale-95 transition-all">Come√ßar Miss√£o</button>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- A√ß√µes Heroicas -->
        <section class="px-8 pb-4 space-y-4 animate-hero-entry" style="animation-delay: 0.6s;">
            <div class="grid grid-cols-2 gap-4">
                <div class="bg-stone-100 p-5 rounded-3xl border-2 border-stone-200 flex flex-col items-center gap-2">
                    <i data-lucide="calendar" class="w-6 h-6 text-orange-600"></i>
                    <p class="text-[9px] font-bold text-stone-400 uppercase">Data</p>
                    <p class="text-sm font-black text-stone-800">14 Mar√ßo</p>
                </div>
                <div class="bg-stone-100 p-5 rounded-3xl border-2 border-stone-200 flex flex-col items-center gap-2">
                    <i data-lucide="swords" class="w-6 h-6 text-orange-600"></i>
                    <p class="text-[9px] font-bold text-stone-400 uppercase">In√≠cio</p>
                    <p class="text-sm font-black text-stone-800">12:30h</p>
                </div>
            </div>

            <button onclick="window.addToGoogleCalendar()" class="w-full bg-stone-800 hover:bg-black text-white font-black py-5 rounded-2xl flex items-center justify-center gap-3 transition-all active:scale-95 text-[11px] uppercase tracking-widest border-b-4 border-stone-900 shadow-xl">
                <i data-lucide="calendar-plus" class="w-5 h-5 text-orange-500"></i> Adicionar √† Agenda
            </button>

            <a href="https://felipegaps.github.io/contador-arthur/" target="_blank" class="w-full bg-orange-600 hover:bg-orange-500 text-white font-black py-5 rounded-2xl flex items-center justify-center gap-3 transition-all active:scale-95 text-[11px] uppercase tracking-widest border-b-4 border-orange-800 shadow-xl">
                <i data-lucide="baby" class="w-5 h-5 text-white"></i> Contador do Tutu
            </a>
        </section>

        <!-- Protocolo Fire Hashira -->
        <section class="p-6">
            <div class="bg-white border-4 border-stone-800 rounded-[2.5rem] p-7 relative">
                <div class="absolute -top-4 left-1/2 -translate-x-1/2 bg-stone-800 px-6 py-1 rounded-full text-[10px] font-black text-white uppercase tracking-[0.3em]">
                    Protocolo de Defesa
                </div>
                
                <div class="space-y-6 mt-4">
                    <div class="flex gap-4 items-center">
                        <div class="w-12 h-12 rounded-2xl bg-orange-100 flex items-center justify-center text-orange-600 shrink-0 border-2 border-orange-200"><i data-lucide="shield-x" class="w-6 h-6"></i></div>
                        <p class="text-xs text-stone-600 leading-tight"><strong>Barreira Sanit√°ria:</strong> Proibido beijar o Arthur. Mantenha os seus germes longe do futuro Arquiteto.</p>
                    </div>
                    <div class="flex gap-4 items-center">
                        <div class="w-12 h-12 rounded-2xl bg-stone-100 flex items-center justify-center text-stone-800 shrink-0 border-2 border-stone-200"><i data-lucide="hand-metal" class="w-6 h-6"></i></div>
                        <p class="text-xs text-stone-600 leading-tight"><strong>Higiene M√°xima:</strong> Lave bem m√£os e antebra√ßos ao entrar na Base 101.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- RSVP -->
        <section class="p-6">
            <div class="bg-stone-900 rounded-[3.5rem] p-10 text-center relative overflow-hidden border-t-8 border-orange-600 shadow-2xl">
                <div class="absolute -top-20 -right-20 w-48 h-48 bg-orange-600/20 rounded-full blur-3xl"></div>
                <h3 class="text-[12px] font-black text-orange-500 uppercase tracking-[0.4em] mb-8 fire-text">Confirmar Miss√£o</h3>
                <div id="rsvp-form-box" class="space-y-5">
                    <input type="text" id="guest-name" placeholder="NOME DO GUERREIRO" class="w-full p-5 bg-white/5 border-2 border-white/10 rounded-2xl focus:border-orange-500 outline-none text-sm font-black text-white placeholder:text-white/20 text-center geek-font tracking-widest uppercase">
                    <button onclick="window.sendRSVP()" class="w-full bg-white text-stone-900 font-black py-6 rounded-2xl shadow-xl transition-all active:scale-95 uppercase tracking-[0.3em] text-xs">
                        Confirmar via WhatsApp
                    </button>
                </div>
                <div id="rsvp-success" class="hidden py-6">
                    <div class="w-20 h-20 bg-orange-600 rounded-full flex items-center justify-center mx-auto mb-6 shadow-orange-600/50 shadow-2xl">
                        <i data-lucide="check" class="text-white w-12 h-12"></i>
                    </div>
                    <h4 class="text-white font-black text-xl uppercase tracking-tighter">Miss√£o Aceite!</h4>
                    <p class="text-orange-500 text-[10px] font-black uppercase mt-3 tracking-widest">A abrir portal de comunica√ß√£o...</p>
                </div>
            </div>
        </section>

        <!-- Morada -->
        <section class="p-6 space-y-4">
            <div class="bg-stone-50 rounded-[3rem] p-8 border-2 border-stone-200 text-left relative overflow-hidden">
                <div class="absolute -bottom-4 -right-4 opacity-5"><i data-lucide="map" style="width: 120px; height: 120px;"></i></div>
                <div class="flex items-center gap-6 mb-8">
                    <div class="w-16 h-16 bg-white rounded-3xl flex items-center justify-center text-orange-600 shadow-xl border-2 border-stone-100 shrink-0"><i data-lucide="map-pin" class="w-8 h-8"></i></div>
                    <div>
                        <p class="text-[10px] font-black text-stone-400 uppercase tracking-widest">Local do Deploy</p>
                        <p class="font-black text-stone-800 text-lg leading-tight">Rua Anacleto, 101</p>
                        <p class="text-orange-600 font-bold text-xs uppercase leading-none mt-1">Torre Avis - Apto 13</p>
                    </div>
                </div>
                <a href="https://waze.com/ul?q=Rua%20Anacleto%20101%20Vila%20Isolina%20Mazzei" target="_blank" class="w-full bg-white text-stone-800 font-black text-xs uppercase py-5 rounded-2xl flex items-center justify-center gap-3 active:scale-95 shadow-lg border-2 border-stone-100 tracking-[0.2em]">
                    <img src="https://upload.wikimedia.org/wikipedia/commons/e/ee/Waze_icon.svg" class="w-5 h-5" alt="Waze"> Iniciar Navega√ß√£o
                </a>
            </div>
            <p class="text-stone-300 text-[9px] font-black uppercase tracking-[0.5em] mt-12 text-center">Incendeie o seu cora√ß√£o na Casa 101</p>
        </section>
    </div>

    <!-- LOGICA JAVASCRIPT -->
    <script>
        const ARTHUR_BIRTH = new Date("2025-12-24T21:05:00").getTime();
        const EVENT_DATE = new Date("2026-03-14T12:30:00").getTime();

        // --- SISTEMA DE M√öSICA ANIME GEEK ---
        let audioCtx;
        let musicOn = false;
        let musicLoop;
        let nTime = 0;

        function startAudio() {
            if (!audioCtx) audioCtx = new (window.AudioContext || window.webkitAudioContext)();
            if (audioCtx.state === 'suspended') audioCtx.resume();
        }

        // Sintetizador para sons mais "brilhantes" e agressivos de anime
        function playHeroNote(freq, time, dur, type = 'square') {
            const osc = audioCtx.createOscillator();
            const gain = audioCtx.createGain();
            osc.type = type;
            osc.frequency.setValueAtTime(freq, time);
            gain.gain.setValueAtTime(0.06, time);
            gain.gain.exponentialRampToValueAtTime(0.001, time + dur);
            osc.connect(gain);
            gain.connect(audioCtx.destination);
            osc.start(time);
            osc.stop(time + dur);
        }

        // Melodia de Abertura (Energ√©tica)
        const animeMelody = [
            261.63, 329.63, 392.00, 523.25, 493.88, 392.00, 440.00, 392.00,
            261.63, 329.63, 392.00, 523.25, 587.33, 523.25, 493.88, 392.00
        ];
        let cNote = 0;

        function animeScheduler() {
            while (nTime < audioCtx.currentTime + 0.1) {
                // Alterna timbres para soar mais como uma banda 8-bit
                const type = cNote % 4 === 0 ? 'sawtooth' : 'square';
                playHeroNote(animeMelody[cNote], nTime, 0.25, type);
                nTime += 0.3; // Ritmo mais r√°pido (BPM alto)
                cNote = (cNote + 1) % animeMelody.length;
            }
        }

        window.toggleAnimeMusic = function(btn) {
            startAudio();
            const icon = document.getElementById('audio-icon');
            if (!musicOn) {
                musicOn = true;
                icon.setAttribute('data-lucide', 'volume-2');
                nTime = audioCtx.currentTime;
                musicLoop = setInterval(animeScheduler, 50);
            } else {
                musicOn = false;
                icon.setAttribute('data-lucide', 'volume-x');
                clearInterval(musicLoop);
            }
            lucide.createIcons();
        };

        function fx(f, d, t='triangle') {
            if(!musicOn && !audioCtx) return;
            startAudio();
            const o = audioCtx.createOscillator();
            const g = audioCtx.createGain();
            o.type = t; o.frequency.setValueAtTime(f, audioCtx.currentTime);
            g.gain.setValueAtTime(0.1, audioCtx.currentTime);
            g.gain.exponentialRampToValueAtTime(0.01, audioCtx.currentTime + d);
            o.connect(g); g.connect(audioCtx.destination);
            o.start(); o.stop(audioCtx.currentTime + d);
        }

        // --- CONTADORES ---
        function tick() {
            const now = new Date().getTime();
            const lD = now - ARTHUR_BIRTH;
            document.getElementById('life-days').innerText = Math.floor(lD / (1000 * 60 * 60 * 24));
            document.getElementById('life-hours').innerText = String(Math.floor((lD % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60))).padStart(2, '0');
            document.getElementById('life-mins').innerText = String(Math.floor((lD % (1000 * 60 * 60)) / (1000 * 60))).padStart(2, '0');
            document.getElementById('life-secs').innerText = String(Math.floor((lD % (1000 * 60)) / 1000)).padStart(2, '0');

            const eD = EVENT_DATE - now;
            const container = document.getElementById('event-timer-container');
            if (eD > 0) {
                document.getElementById('event-days').innerText = Math.floor(eD / (1000 * 60 * 60 * 24));
                document.getElementById('event-hours').innerText = String(Math.floor((eD % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60))).padStart(2, '0');
                document.getElementById('event-mins').innerText = String(Math.floor((eD % (1000 * 60 * 60)) / (1000 * 60))).padStart(2, '0');
                document.getElementById('event-secs').innerText = String(Math.floor((eD % (1000 * 60)) / 1000)).padStart(2, '0');
            } else if(container) {
                container.innerHTML = "<p class='text-orange-600 font-black geek-font text-2xl italic animate-bounce'>IT'S OVER 9000! üî•üî•üî•</p>";
            }
        }

        window.addToGoogleCalendar = function() {
            fx(880, 0.1);
            const url = `https://www.google.com/calendar/render?action=TEMPLATE&text=${encodeURIComponent("Churras do Tutu - Casa 101")}&dates=20260314T153000Z/20260314T213000Z&details=${encodeURIComponent("Celebra√ß√£o do Arthur! Protocolos: N√£o beijar o beb√™ e m√£os limpas.")}&location=${encodeURIComponent("Rua Anacleto, 101, Vila Isolina Mazzei, SP")}`;
            window.open(url, '_blank');
        };

        window.sendRSVP = function() {
            fx(1200, 0.15, 'sawtooth');
            const name = document.getElementById('guest-name').value.trim();
            if (!name) return alert("Identifica-te, Guerreiro!");
            document.getElementById('rsvp-form-box').classList.add('hidden');
            document.getElementById('rsvp-success').classList.remove('hidden');
            const phone = "5511983929914";
            const message = encodeURIComponent(`[MISS√ÉO CONFIRMADA]\nFala Arquiteto! Confirmei presen√ßa no Churras do Tutu!\n\nGuerreiro: ${name}\nKI Inicial: ${gameScore}\n\nIncendeie o seu cora√ß√£o! üî•`);
            setTimeout(() => window.location.href = `https://wa.me/${phone}?text=${message}`, 1500);
        };

        // --- JOGO DE DEFESA DO ARTHUR ---
        const canvas = document.getElementById('game-canvas');
        const ctx = canvas.getContext('2d');
        let gameScore = 20;
        let gameRunning = false;
        let player = { x: 0, y: 0, w: 50, h: 50 };
        let items = [];
        let animId;

        function resizeG() {
            const container = document.getElementById('game-container');
            canvas.width = container.offsetWidth;
            canvas.height = container.offsetHeight;
            player.y = canvas.height - 60;
            player.x = canvas.width / 2 - 25;
        }

        window.startGame = function() {
            startAudio();
            fx(523, 0.2); 
            document.getElementById('game-overlay').classList.add('hidden');
            gameScore = 20;
            document.getElementById('game-score').innerText = '20';
            items = [];
            gameRunning = true;
            resizeG();
            gLoop();
        };

        function gWin() {
            fx(523, 0.1); fx(659, 0.1); fx(783, 0.1); fx(1046, 0.3);
            gameRunning = false;
            cancelAnimationFrame(animId);
            const overlay = document.getElementById('game-overlay');
            overlay.classList.remove('hidden');
            document.getElementById('overlay-content').innerHTML = `
                <div class="animate-bounce mb-4"><i data-lucide="award" class="w-20 h-20 text-yellow-400 mx-auto fill-yellow-400"></i></div>
                <h5 class="font-black text-2xl text-green-400 uppercase mb-2">Poder Infinito!</h5>
                <p class="text-[10px] text-white uppercase mb-6 leading-relaxed">Voc√™ dominou o instinto superior de cuidado!<br>O Arthur est√° pronto para o churrasco.</p>
                <button onclick="window.startGame()" class="bg-green-600 text-white px-8 py-3 rounded-2xl text-[10px] font-black uppercase shadow-xl">Super Replay</button>
            `;
            lucide.createIcons();
        }

        function gOver() {
            fx(110, 0.4, 'sawtooth');
            gameRunning = false;
            cancelAnimationFrame(animId);
            const overlay = document.getElementById('game-overlay');
            overlay.classList.remove('hidden');
            document.getElementById('overlay-content').innerHTML = `
                <div class="animate-pulse mb-4"><i data-lucide="flame-kindling" class="w-16 h-16 text-red-500 mx-auto"></i></div>
                <h5 class="font-black text-xl text-red-500 uppercase mb-2">KI Esgotado!</h5>
                <p class="text-[10px] text-white mb-6 uppercase">O protocolo de defesa falhou!<br>Tente novamente elevar o seu poder.</p>
                <button onclick="window.startGame()" class="bg-red-600 text-white px-10 py-3 rounded-2xl text-[10px] font-black uppercase">Recarregar</button>
            `;
            lucide.createIcons();
        }

        function gLoop() {
            if (!gameRunning) return;
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            ctx.font = '50px Arial';
            ctx.fillText('üë∂', player.x, player.y + 45);

            if (Math.random() < 0.04) {
                const types = [{ c: 'ü•©', v: 10 }, { c: 'üçº', v: 15 }, { c: 'ü¶†', v: -15 }, { c: 'üíã', v: -20 }];
                const item = types[Math.floor(Math.random() * types.length)];
                items.push({ x: Math.random() * (canvas.width - 40), y: -40, c: item.c, v: item.v, s: 3 + Math.random() * 4 });
            }

            for (let i = items.length - 1; i >= 0; i--) {
                const it = items[i];
                it.y += it.s;
                ctx.font = '35px Arial';
                ctx.fillText(it.c, it.x, it.y);

                if (it.y > player.y - 15 && it.y < player.y + 45 && it.x > player.x - 20 && it.x < player.x + 45) {
                    gameScore += it.v;
                    items.splice(i, 1);
                    if (it.v > 0) fx(1200, 0.05); else fx(300, 0.2, 'sawtooth');
                    if (gameScore >= 100) { gameScore = 100; gWin(); return; }
                    if (gameScore <= 0) { gameScore = 0; gOver(); return; }
                    document.getElementById('game-score').innerText = gameScore;
                    continue;
                }
                if (it.y > canvas.height) items.splice(i, 1);
            }
            animId = requestAnimationFrame(gLoop);
        }

        canvas.addEventListener('mousemove', e => {
            if (!gameRunning) return;
            const rect = canvas.getBoundingClientRect();
            player.x = Math.max(0, Math.min(e.clientX - rect.left - player.w/2, canvas.width - player.w));
        });
        canvas.addEventListener('touchmove', e => {
            if(gameRunning) e.preventDefault();
            const rect = canvas.getBoundingClientRect();
            player.x = Math.max(0, Math.min(e.touches[0].clientX - rect.left - player.w/2, canvas.width - player.w));
        }, { passive: false });

        document.addEventListener('DOMContentLoaded', () => {
            setInterval(tick, 1000);
            tick();
            lucide.createIcons();
            resizeG();
        });
    </script>
</body>
</html>
